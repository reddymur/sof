# Invoke a SOF pipeline and route it to a sound card or another plugin
# To use the PCM 0 on the SOF "volume" topology and route it to hw:1,2 then run
# aplay -Dsof:volume,0,hw,1,2

pcm.sof {
	@args [ TPLG_FILE TPLG_PCM ADEVICE ACARD APCM ]
	@args.TPLG_FILE {
		type string
		default "passthrough"
#		description "SOF topology filename (mandatory)"
	}
	@args.TPLG_PCM {
		type integer
#		description "SOF topology PCM ID (mandatory)"
	}
	@args.ADEVICE {
		type string
		default "default"
#		description "ALSA source/sink device (mandatory)"
	}
	@args.ACARD {
		type integer
#		description "ALSA source/sink card (e.g. if DEVICE is "hw")
	}
	@args.APCM {
		type integer
#		description "ALSA source/sink PCM (e.g. if DEVICE is "hw")
	}
	type sof
	tplg_file $TPLG_FILE
	tplg_pcm $TPLG_PCM
	alsa_device $ADEVICE
	alsa_card $ACARD
	alsa_pcm $APCM
	hint {
		show {
			@func refer
			name defaults.namehint.basic
		}
		description "SOF Topology and PCM"
	}
}

ctl.sof {
	@args [ DEVICE ]
	@args.DEVICE {
		type string
		default ""
	}
	type sof
	device $DEVICE
}
