# Invoke a SOF pipeline and route it to a sound card or another plugin
# To use the PCM 0 on the SOF "volume" topology and route it to hw:1,2 then run
# aplay -Dsof:volume,0,hw,1,2
#
# TPLG_FILE		SOF topology filename (mandatory)
# TPLG_PCM		SOF topology PCM ID (mandatory)
# ADEVICE		ALSA source/sink device (mandatory)
# ACARD			ALSA source/sink card (e.g. if DEVICE is "hw")
# APCM			ALSA source/sink PCM (e.g. if DEVICE is "hw")

pcm.sof {
	@args [ TPLG_FILE TPLG_PCM ADEVICE ACARD APCM ]
	@args.TPLG_FILE {
		type string
		default "passthrough"
	}
	@args.TPLG_PCM {
		type integer

	}
	@args.ADEVICE {
		type string
		default "default"
	}
	@args.ACARD {
		type integer
	}
	@args.APCM {
		type integer
	}
	type sof
	tplg_file $TPLG_FILE
	tplg_pcm $TPLG_PCM
	alsa_device $ADEVICE
	alsa_card $ACARD
	alsa_pcm $APCM
	hint {
		show {
			@func refer
			name defaults.namehint.basic
		}
		description "SOF Topology and PCM"
	}
}

ctl.sof {
	@args [ TPLG_FILE TPLG_PCM ADEVICE ACARD APCM ]
	@args.TPLG_FILE {
		type string
		default "passthrough"
	}
	@args.TPLG_PCM {
		type integer

	}
	@args.ADEVICE {
		type string
		default "default"
	}
	@args.ACARD {
		type integer
	}
	@args.APCM {
		type integer
	}
	type sof
	tplg_file $TPLG_FILE
	tplg_pcm $TPLG_PCM
	alsa_device $ADEVICE
	alsa_card $ACARD
	alsa_pcm $APCM
	hint {
		show {
			@func refer
			name defaults.namehint.basic
		}
		description "SOF Topology and PCM"
	}
}
